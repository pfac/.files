#!/usr/bin/env sh
if [[ -z "${SHRC+true}" ]]; then
  export SHRC;

  if [[ -d "${HOME}/.local/bin" ]]; then
    echo -n "* Setting up local user packages... "
    export PATH="${HOME}/.local/bin:$PATH"
    echo "DONE"
  fi

  if type brew &> /dev/null; then
    # Initialize ASDF VM (if installed through Homebrew)
    if brew list | grep asdf &> /dev/null; then
      echo -n '* Setting up asdf... '
      [[ -f /usr/local/opt/asdf/asdf.sh ]] &&
        source /usr/local/opt/asdf/asdf.sh
      echo 'DONE'
    fi
  fi

  # Add Linuxbrew to PATH
  if [[ -d "${HOME}/.linuxbrew/bin" ]]; then
    echo -n "* Setting up Linuxbrew... "
    export PATH="${HOME}/.linuxbrew/bin:${PATH}"
    echo "DONE"
  fi

  if [[ -f "${HOME}/.cargo/env" ]]; then
    echo -n "* Setting up Rust toolchain... "
    source "${HOME}/.cargo/env"
    echo "DONE"
  fi

  # Add Heroku Toolbelt to PATH
  if [[ -d "/usr/local/heroku/bin" ]]; then
    echo -n "* Setting up Heroku Toolbelt... "
    export PATH="/usr/local/heroku/bin:$PATH"
    echo "DONE"
  fi
fi
